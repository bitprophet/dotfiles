case $( uname -s ) in
    Darwin )
        export PLATFORM="mac"
        alias ls="gls --color"
        # Homebrew!
        if [[ -d /opt/homebrew ]]; then
            eval "$(/opt/homebrew/bin/brew shellenv)"
        fi
        ;;

    Linux )
        if [[ -f /etc/os-release ]]; then
            source /etc/os-release
            # Typically 'arch', 'ubuntu', etc
            export PLATFORM=$ID
        else
            # Fallback, though most of my kit (in dotfiles and hemera) will be
            # looking for the above specific distro values...
            export PLATFORM="linux"
        fi
        ;;
esac
